<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>mdlSjson.zig - source view</title>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPNJREFUeNpi/P//PwMlgOXHUjly9E0G4hwgZmQiQZMqEK8H4v9QzUEgQSaoADK+zhH9iAGL+C0gDoAaNg9mGLoLfgA1awK9hS9gzgJxA9RQBmQDrgMxJzRMGKE4HYj/Ial5A8QmQLwCJoBsgBYW2+TR1ChDaWt4LOBxKsi/VUh8XiD+gq4IVyzwQAMJBoKwacZlAB8Qf0bi96IZhtOAe1D6LpqaEiz6rmEzQAeIzwGxCJpieFqApo/vQKyJboAaEBsAsSEupwI1MwKjGBTVHOhegMX5UajYRqiBjMgYmj400cVh0XgTiKdC0zhJgJHS7AwQYABm9EAdCKrEfAAAAABJRU5ErkJggg=="/>
    <style>
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        margin: 0;
        line-height: 1.5;
      }

      pre > code {
        display: block;
        overflow: auto;
        line-height: normal;
        margin: 0em;
      }
      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #005C7A;
      }
      .tok-comment {
          color: #545454;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #005C5C;
      }
      .tok-number {
          color: #005C5C;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }
      pre {
        counter-reset: line;
      }
      pre .line:before {
        counter-increment: line;
        content: counter(line);
        display: inline-block;
        padding-right: 1em;
        width: 2em;
        text-align: right;
        color: #999;
      }
      
      .line {
        width: 100%;
        display: inline-block;
      }
      .line:target {
        border-top: 1px solid #ccc;
        border-bottom: 1px solid #ccc;
        background: #fafafa;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background:#222;
            color: #ccc;
        }
        pre > code {
            color: #ccc;
            background: #222;
            border: unset;
        }
        .line:target {
            border-top: 1px solid #444;
            border-bottom: 1px solid #444;
            background: #333;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #B1A0F8;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
      }
    </style>
</head>
<body>
<pre><code><span class="line" id="L1"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line" id="L2"></span>
<span class="line" id="L3"><span class="tok-kw">const</span> dds = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;dds&quot;</span>);</span>
<span class="line" id="L4"></span>
<span class="line" id="L5"><span class="tok-comment">// keyboard</span>
</span>
<span class="line" id="L6"><span class="tok-kw">const</span> kbd = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;cursed&quot;</span>).kbd;</span>
<span class="line" id="L7"></span>
<span class="line" id="L8"><span class="tok-comment">// panel</span>
</span>
<span class="line" id="L9"><span class="tok-kw">const</span> pnl = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>).pnl;</span>
<span class="line" id="L10"><span class="tok-comment">// button</span>
</span>
<span class="line" id="L11"><span class="tok-kw">const</span> btn = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>).btn;</span>
<span class="line" id="L12"><span class="tok-comment">// label</span>
</span>
<span class="line" id="L13"><span class="tok-kw">const</span> lbl = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>).lbl;</span>
<span class="line" id="L14"><span class="tok-comment">// menu</span>
</span>
<span class="line" id="L15"><span class="tok-kw">const</span> mnu = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>).mnu;</span>
<span class="line" id="L16"><span class="tok-comment">// flied</span>
</span>
<span class="line" id="L17"><span class="tok-kw">const</span> fld = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>).fld;</span>
<span class="line" id="L18"><span class="tok-comment">// line horizontal</span>
</span>
<span class="line" id="L19"><span class="tok-kw">const</span> lnh = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>).lnh;</span>
<span class="line" id="L20"><span class="tok-comment">// line vertival</span>
</span>
<span class="line" id="L21"><span class="tok-kw">const</span> lnv = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>).lnv;</span>
<span class="line" id="L22"></span>
<span class="line" id="L23"><span class="tok-comment">// grid</span>
</span>
<span class="line" id="L24"><span class="tok-kw">const</span> grd = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;grid&quot;</span>).grd;</span>
<span class="line" id="L25"></span>
<span class="line" id="L26"><span class="tok-comment">// full delete for produc</span>
</span>
<span class="line" id="L27"><span class="tok-kw">const</span> forms = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;forms&quot;</span>);</span>
<span class="line" id="L28"></span>
<span class="line" id="L29"> </span>
<span class="line" id="L30"><span class="tok-kw">const</span> opn_Log = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;logger&quot;</span>).openFile;		<span class="tok-comment">// open  file</span>
</span>
<span class="line" id="L31"><span class="tok-kw">const</span> end_Log = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;logger&quot;</span>).closeFile;	<span class="tok-comment">// close file</span>
</span>
<span class="line" id="L32"><span class="tok-kw">const</span> plog = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;logger&quot;</span>).scoped;			<span class="tok-comment">// print file</span>
</span>
<span class="line" id="L33"></span>
<span class="line" id="L34"><span class="tok-kw">const</span> allocator = std.heap.page_allocator;</span>
<span class="line" id="L35"></span>
<span class="line" id="L36"></span>
<span class="line" id="L37"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">SavJson</span>(XPANEL: *std.ArrayList(pnl.PANEL), nameJson: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {</span>
<span class="line" id="L38"></span>
<span class="line" id="L39"></span>
<span class="line" id="L40"></span>
<span class="line" id="L41">	opn_Log(<span class="tok-str">&quot;ASjon.txt&quot;</span>);</span>
<span class="line" id="L42">	plog(.Panel).debug(<span class="tok-str">&quot;{s}\n&quot;</span>,.{nameJson});</span>
<span class="line" id="L43">	</span>
<span class="line" id="L44">	<span class="tok-kw">const</span> cDIR = std.fs.cwd().openDir(<span class="tok-str">&quot;dspf&quot;</span>,.{})</span>
<span class="line" id="L45">	<span class="tok-kw">catch</span> |err| {<span class="tok-builtin">@panic</span>(<span class="tok-kw">try</span> std.fmt.allocPrint(allocator,<span class="tok-str">&quot;err Open DIR.{any}\n&quot;</span>, .{err}));};</span>
<span class="line" id="L46"></span>
<span class="line" id="L47">	<span class="tok-kw">var</span> fjson = cDIR.openFile(nameJson, .{.mode = .read_write}) <span class="tok-kw">catch</span> |err| {</span>
<span class="line" id="L48">				<span class="tok-builtin">@panic</span>(<span class="tok-kw">try</span> std.fmt.allocPrint(allocator,<span class="tok-str">&quot;err Open FILE.{any}\n&quot;</span>, .{err}));};</span>
<span class="line" id="L49">	<span class="tok-kw">defer</span> fjson.close();</span>
<span class="line" id="L50"></span>
<span class="line" id="L51">	<span class="tok-kw">const</span> out  = fjson.writer();</span>
<span class="line" id="L52"></span>
<span class="line" id="L53">	<span class="tok-kw">var</span> w = std.json.writeStream( out, .{ .whitespace = .indent_2 });</span>
<span class="line" id="L54"></span>
<span class="line" id="L55"></span>
<span class="line" id="L56">	<span class="tok-kw">const</span> Ipanel = std.enums.EnumIndexer(pnl.Epanel);</span>
<span class="line" id="L57"></span>
<span class="line" id="L58">	</span>
<span class="line" id="L59">	w.beginObject()   <span class="tok-kw">catch</span> |err| {</span>
<span class="line" id="L60">				<span class="tok-builtin">@panic</span>(<span class="tok-kw">try</span> std.fmt.allocPrint(allocator,<span class="tok-str">&quot;err Open FILE.{any}\n&quot;</span>, .{err}));};</span>
<span class="line" id="L61"></span>
<span class="line" id="L62">	</span>
<span class="line" id="L63">	plog(.fjson).debug(<span class="tok-str">&quot;beginObject&quot;</span>,.{});</span>
<span class="line" id="L64">	<span class="tok-kw">try</span> w.objectField(<span class="tok-str">&quot;PANEL&quot;</span>);</span>
<span class="line" id="L65">	<span class="tok-kw">var</span> nbrPnl: <span class="tok-type">usize</span> = XPANEL.items.len;</span>
<span class="line" id="L66">	<span class="tok-kw">var</span> np: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L67">	<span class="tok-kw">while</span> (np &lt; nbrPnl) : (np += <span class="tok-number">1</span>) {</span>
<span class="line" id="L68">		<span class="tok-kw">try</span> w.beginArray();</span>
<span class="line" id="L69">		<span class="tok-kw">try</span> w.beginObject();</span>
<span class="line" id="L70">		<span class="tok-kw">var</span> p: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L71">		<span class="tok-kw">while</span> (p &lt; Ipanel.count) : (p += <span class="tok-number">1</span>) {</span>
<span class="line" id="L72">			<span class="tok-kw">switch</span> (Ipanel.keyForIndex(p)) {</span>
<span class="line" id="L73">				.name =&gt; {</span>
<span class="line" id="L74">					<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(pnl.Epanel.name));</span>
<span class="line" id="L75">					<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].name});</span>
<span class="line" id="L76">				},</span>
<span class="line" id="L77">				.posx =&gt; {</span>
<span class="line" id="L78">					<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(pnl.Epanel.posx));</span>
<span class="line" id="L79">					<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].posx});</span>
<span class="line" id="L80">				},</span>
<span class="line" id="L81">				.posy =&gt; {</span>
<span class="line" id="L82">					<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(pnl.Epanel.posy));</span>
<span class="line" id="L83">					<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].posy});</span>
<span class="line" id="L84">				},</span>
<span class="line" id="L85">				.lines =&gt; {</span>
<span class="line" id="L86">					<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(pnl.Epanel.lines));</span>
<span class="line" id="L87">					<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].lines});</span>
<span class="line" id="L88">				},</span>
<span class="line" id="L89">				.cols  =&gt; {</span>
<span class="line" id="L90">					<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(pnl.Epanel.cols));</span>
<span class="line" id="L91">					<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].cols});</span>
<span class="line" id="L92">				},</span>
<span class="line" id="L93">				.cadre =&gt; {</span>
<span class="line" id="L94">					<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(pnl.Epanel.cadre));</span>
<span class="line" id="L95">					<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{<span class="tok-builtin">@tagName</span>(XPANEL.items[np].frame.cadre)});</span>
<span class="line" id="L96">				},</span>
<span class="line" id="L97">				.title =&gt; {</span>
<span class="line" id="L98">					<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(pnl.Epanel.title));</span>
<span class="line" id="L99">					<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].frame.title});</span>
<span class="line" id="L100">				},</span>
<span class="line" id="L101">				.button =&gt; {</span>
<span class="line" id="L102">					<span class="tok-kw">const</span> Ibutton = std.enums.EnumIndexer(btn.Ebutton);</span>
<span class="line" id="L103">					<span class="tok-kw">var</span> nbrBtn: <span class="tok-type">usize</span> = XPANEL.items[np].button.items.len;</span>
<span class="line" id="L104">					<span class="tok-kw">var</span> bp: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L105">					<span class="tok-kw">try</span> w.objectField(<span class="tok-str">&quot;button&quot;</span>);</span>
<span class="line" id="L106">					<span class="tok-kw">try</span> w.beginArray();</span>
<span class="line" id="L107">					<span class="tok-kw">while</span> (bp &lt; nbrBtn) : (bp += <span class="tok-number">1</span>) {</span>
<span class="line" id="L108">						<span class="tok-kw">try</span> w.beginObject();</span>
<span class="line" id="L109">						<span class="tok-kw">var</span> b: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L110">						<span class="tok-kw">while</span> (b &lt; Ibutton.count) : (b += <span class="tok-number">1</span>) {</span>
<span class="line" id="L111">							<span class="tok-kw">switch</span> (Ibutton.keyForIndex(b)) {</span>
<span class="line" id="L112">								.name =&gt; {</span>
<span class="line" id="L113">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(btn.Ebutton.name));</span>
<span class="line" id="L114">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].button.items[bp].name});</span>
<span class="line" id="L115">								},</span>
<span class="line" id="L116">								.key =&gt; {</span>
<span class="line" id="L117">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(btn.Ebutton.key));</span>
<span class="line" id="L118">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{<span class="tok-builtin">@tagName</span>(XPANEL.items[np].button.items[bp].key)});</span>
<span class="line" id="L119">								},</span>
<span class="line" id="L120">								.show =&gt; {</span>
<span class="line" id="L121">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(btn.Ebutton.show));</span>
<span class="line" id="L122">									<span class="tok-kw">if</span> (<span class="tok-builtin">@intFromBool</span>(XPANEL.items[np].button.items[bp].show) == <span class="tok-number">1</span>)</span>
<span class="line" id="L123">													<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;true&quot;</span>, .{})</span>
<span class="line" id="L124">									<span class="tok-kw">else</span> <span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;false&quot;</span>, .{});</span>
<span class="line" id="L125">								},</span>
<span class="line" id="L126">								.check =&gt; {</span>
<span class="line" id="L127">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(btn.Ebutton.check));</span>
<span class="line" id="L128">									<span class="tok-kw">if</span> (<span class="tok-builtin">@intFromBool</span>(XPANEL.items[np].button.items[bp].check) == <span class="tok-number">1</span>)</span>
<span class="line" id="L129">													<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;true\&quot;&quot;</span>, .{})</span>
<span class="line" id="L130">									<span class="tok-kw">else</span> <span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;false&quot;</span>, .{});</span>
<span class="line" id="L131">								},</span>
<span class="line" id="L132">								.title =&gt; {</span>
<span class="line" id="L133">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(btn.Ebutton.title));</span>
<span class="line" id="L134">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].button.items[bp].title});</span>
<span class="line" id="L135">								},</span>
<span class="line" id="L136">							}</span>
<span class="line" id="L137">						}</span>
<span class="line" id="L138">						<span class="tok-kw">try</span> w.endObject();</span>
<span class="line" id="L139">					}</span>
<span class="line" id="L140"></span>
<span class="line" id="L141">					<span class="tok-kw">try</span> w.endArray();</span>
<span class="line" id="L142">				},</span>
<span class="line" id="L143">				.label =&gt; {</span>
<span class="line" id="L144">					<span class="tok-kw">const</span> Ilabel = std.enums.EnumIndexer(lbl.Elabel);</span>
<span class="line" id="L145">					<span class="tok-kw">var</span> l: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L146">					<span class="tok-kw">var</span> nbrLbl: <span class="tok-type">usize</span> = XPANEL.items[np].label.items.len;</span>
<span class="line" id="L147"></span>
<span class="line" id="L148">					<span class="tok-kw">var</span> lp: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L149">					<span class="tok-kw">try</span> w.objectField(<span class="tok-str">&quot;label&quot;</span>);</span>
<span class="line" id="L150">					<span class="tok-kw">try</span> w.beginArray();</span>
<span class="line" id="L151">					<span class="tok-kw">while</span> (lp &lt; nbrLbl) : (lp += <span class="tok-number">1</span>) {</span>
<span class="line" id="L152">						<span class="tok-kw">try</span> w.beginObject();</span>
<span class="line" id="L153">						l = <span class="tok-number">0</span>;</span>
<span class="line" id="L154">						<span class="tok-kw">while</span> (l &lt; Ilabel.count) : (l += <span class="tok-number">1</span>) {</span>
<span class="line" id="L155">							<span class="tok-kw">switch</span> (Ilabel.keyForIndex(l)) {</span>
<span class="line" id="L156">								.name =&gt; {</span>
<span class="line" id="L157">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(lbl.Elabel.name));</span>
<span class="line" id="L158">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].label.items[lp].name});</span>
<span class="line" id="L159">								},</span>
<span class="line" id="L160">								.posx =&gt; {</span>
<span class="line" id="L161">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(lbl.Elabel.posx));</span>
<span class="line" id="L162">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].label.items[lp].posx});</span>
<span class="line" id="L163">								},</span>
<span class="line" id="L164">								.posy =&gt; {</span>
<span class="line" id="L165">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(lbl.Elabel.posy));</span>
<span class="line" id="L166">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].label.items[lp].posy});</span>
<span class="line" id="L167">								},</span>
<span class="line" id="L168">								.text =&gt; {</span>
<span class="line" id="L169">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(lbl.Elabel.text));</span>
<span class="line" id="L170">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].label.items[lp].text});</span>
<span class="line" id="L171">								},</span>
<span class="line" id="L172">								.title =&gt; {</span>
<span class="line" id="L173">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(lbl.Elabel.title));</span>
<span class="line" id="L174">									<span class="tok-kw">if</span> (<span class="tok-builtin">@intFromBool</span>(XPANEL.items[np].label.items[lp].title) == <span class="tok-number">1</span>)</span>
<span class="line" id="L175">													<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;true&quot;</span>, .{})</span>
<span class="line" id="L176">									<span class="tok-kw">else</span> <span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;false&quot;</span>, .{});</span>
<span class="line" id="L177"></span>
<span class="line" id="L178">								},</span>
<span class="line" id="L179">							}</span>
<span class="line" id="L180">						}</span>
<span class="line" id="L181">						<span class="tok-kw">try</span> w.endObject();</span>
<span class="line" id="L182">					}</span>
<span class="line" id="L183"></span>
<span class="line" id="L184">					<span class="tok-kw">try</span> w.endArray();</span>
<span class="line" id="L185">				},</span>
<span class="line" id="L186">				.field =&gt; {</span>
<span class="line" id="L187">					<span class="tok-kw">const</span> Ifield = std.enums.EnumIndexer(fld.Efield);</span>
<span class="line" id="L188">					<span class="tok-kw">var</span> f: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L189">					<span class="tok-kw">var</span> nbrFld: <span class="tok-type">usize</span> = XPANEL.items[np].field.items.len;</span>
<span class="line" id="L190"></span>
<span class="line" id="L191">					<span class="tok-kw">var</span> fp: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line" id="L192">					<span class="tok-kw">try</span> w.objectField(<span class="tok-str">&quot;field&quot;</span>);</span>
<span class="line" id="L193">					<span class="tok-kw">try</span> w.beginArray();</span>
<span class="line" id="L194">					<span class="tok-kw">while</span> (fp &lt; nbrFld) : (fp += <span class="tok-number">1</span>) {</span>
<span class="line" id="L195">						<span class="tok-kw">try</span> w.beginObject();</span>
<span class="line" id="L196">						f = <span class="tok-number">0</span>;</span>
<span class="line" id="L197">						<span class="tok-kw">while</span> (f &lt; Ifield.count) : (f += <span class="tok-number">1</span>) {</span>
<span class="line" id="L198">							<span class="tok-kw">switch</span> (Ifield.keyForIndex(f)) {</span>
<span class="line" id="L199">								.name =&gt; {</span>
<span class="line" id="L200">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.name));</span>
<span class="line" id="L201">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].field.items[fp].name});</span>
<span class="line" id="L202">								},</span>
<span class="line" id="L203">								.posx =&gt; {</span>
<span class="line" id="L204">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.posx));</span>
<span class="line" id="L205">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].field.items[fp].posx});</span>
<span class="line" id="L206">								},</span>
<span class="line" id="L207">								.posy =&gt; {</span>
<span class="line" id="L208">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.posy));</span>
<span class="line" id="L209">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].field.items[fp].posy});</span>
<span class="line" id="L210">								},</span>
<span class="line" id="L211">								.reftyp =&gt; {</span>
<span class="line" id="L212">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.reftyp));</span>
<span class="line" id="L213">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{<span class="tok-builtin">@tagName</span>(XPANEL.items[np].field.items[fp].reftyp)});</span>
<span class="line" id="L214">								},</span>
<span class="line" id="L215">								.width =&gt; {</span>
<span class="line" id="L216">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.width));</span>
<span class="line" id="L217">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].field.items[fp].width});</span>
<span class="line" id="L218">								},</span>
<span class="line" id="L219">								.scal =&gt; {</span>
<span class="line" id="L220">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.scal));</span>
<span class="line" id="L221">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;{d}&quot;</span>, .{XPANEL.items[np].field.items[fp].scal});</span>
<span class="line" id="L222">								},</span>
<span class="line" id="L223">								.text =&gt; {</span>
<span class="line" id="L224">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.text));</span>
<span class="line" id="L225">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;\&quot;&quot;</span>, .{});</span>
<span class="line" id="L226">								},</span>
<span class="line" id="L227">								.requier =&gt; {</span>
<span class="line" id="L228">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.requier));</span>
<span class="line" id="L229">									<span class="tok-kw">if</span> (<span class="tok-builtin">@intFromBool</span>(XPANEL.items[np].field.items[fp].requier) == <span class="tok-number">1</span>)</span>
<span class="line" id="L230">													<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;true&quot;</span>, .{})</span>
<span class="line" id="L231">									<span class="tok-kw">else</span> <span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;false&quot;</span>, .{});</span>
<span class="line" id="L232">								},</span>
<span class="line" id="L233">								.protect =&gt; {</span>
<span class="line" id="L234">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.protect));</span>
<span class="line" id="L235">									<span class="tok-kw">if</span> (<span class="tok-builtin">@intFromBool</span>(XPANEL.items[np].field.items[fp].protect) == <span class="tok-number">1</span>)</span>
<span class="line" id="L236">													<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;true&quot;</span>, .{})</span>
<span class="line" id="L237">									<span class="tok-kw">else</span> <span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;false&quot;</span>, .{});</span>
<span class="line" id="L238">								},</span>
<span class="line" id="L239">								.edtcar =&gt; {</span>
<span class="line" id="L240">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.edtcar));</span>
<span class="line" id="L241">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].field.items[fp].edtcar});</span>
<span class="line" id="L242">								},</span>
<span class="line" id="L243">								.errmsg =&gt; {</span>
<span class="line" id="L244">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.errmsg));</span>
<span class="line" id="L245">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].field.items[fp].errmsg});</span>
<span class="line" id="L246">								},</span>
<span class="line" id="L247">								.help =&gt; {</span>
<span class="line" id="L248">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.help));</span>
<span class="line" id="L249">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].field.items[fp].help});</span>
<span class="line" id="L250">								},</span>
<span class="line" id="L251">								.procfunc =&gt; {</span>
<span class="line" id="L252">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.procfunc));</span>
<span class="line" id="L253">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].field.items[fp].procfunc});</span>
<span class="line" id="L254">								},</span>
<span class="line" id="L255">								.proctask =&gt; {</span>
<span class="line" id="L256">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.proctask));</span>
<span class="line" id="L257">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;{s}\&quot;&quot;</span>, .{XPANEL.items[np].field.items[fp].proctask});</span>
<span class="line" id="L258">								},</span>
<span class="line" id="L259">								.regex=&gt; {</span>
<span class="line" id="L260">									<span class="tok-kw">try</span> w.objectField(<span class="tok-builtin">@tagName</span>(fld.Efield.regex));</span>
<span class="line" id="L261">									<span class="tok-kw">try</span> w.print(<span class="tok-str">&quot;\&quot;\&quot;&quot;</span>, .{});</span>
<span class="line" id="L262">								},</span>
<span class="line" id="L263"></span>
<span class="line" id="L264">							}</span>
<span class="line" id="L265">						}</span>
<span class="line" id="L266">						<span class="tok-kw">try</span> w.endObject();</span>
<span class="line" id="L267">					}</span>
<span class="line" id="L268"></span>
<span class="line" id="L269">					<span class="tok-kw">try</span> w.endArray();</span>
<span class="line" id="L270">				},</span>
<span class="line" id="L271">			}</span>
<span class="line" id="L272">		}</span>
<span class="line" id="L273">		<span class="tok-kw">try</span> w.endObject();</span>
<span class="line" id="L274">		<span class="tok-kw">try</span> w.endArray();</span>
<span class="line" id="L275">	}</span>
<span class="line" id="L276">	<span class="tok-kw">try</span> w.endObject();</span>
<span class="line" id="L277"><span class="tok-kw">return</span> ;</span>
<span class="line" id="L278">}</span>
<span class="line" id="L279"></span>
</code></pre></body>
</html>